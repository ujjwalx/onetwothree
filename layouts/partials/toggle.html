<script>
	var body = document.body;
	var switcher = document.getElementsByClassName('js-toggle')[0];

	//Click on dark mode icon. Add dark mode classes and wrappers. Store user preference through sessions
	switcher.addEventListener("click", function () {
		this.classList.toggle('js-toggle--checked');
		this.classList.add('js-toggle--focus');
		//If dark mode is selected
		if (this.classList.contains('js-toggle--checked')) {
			body.classList.add('dark-mode');
			//Save user preference in storage
			localStorage.setItem('darkMode', 'true');
		} else {
			body.classList.remove('dark-mode');
			setTimeout(function () {
				localStorage.removeItem('darkMode');
			}, 100);
		}
	})

	//Check Storage. Keep user preference on page reload
	if (localStorage.getItem('darkMode')) {
		//body.classList.add('dark-mode');
		switcher.classList.add('js-toggle--checked');
		body.classList.add('dark-mode');
	}

</script>

<style>
	/*
 * Dark Mode Toggle
 * Copyright (c) 2015 instructure-react
 * Forked from Dan Abramov's personal blog
 * https://github.com/gaearon/overreacted.io/blob/master/src/components/Toggle.css
 * MIT License
**/

	.js-toggle-wrapper {
		display: inline;
		float: inline-end;
		padding: 0.25rem 0 0.25rem 0;
		height: auto;
		width: auto;
	}

	.js-toggle {
		touch-action: pan-x;
		display: inline-block;
		position: relative;
		cursor: pointer;
		background-color: transparent;
		border: 0;
		padding: 0;
		-webkit-touch-callout: none;
		user-select: none;
		-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
		-webkit-tap-highlight-color: transparent;
	}

	.js-toggle-screenreader-only {
		border: 0;
		clip: rect(0 0 0 0);
		height: 1px;
		margin: -1px;
		overflow: hidden;
		padding: 0;
		position: absolute;
		width: 1px;
	}

	.js-toggle-track {
		width: 50px;
		height: 24px;
		padding: 0;
		border-radius: 30px;
		background-color: hsl(222, 14%, 7%);
		transition: all 0.2s ease;
	}

	.js-toggle-track-check {
		position: absolute;
		width: 17px;
		height: 17px;
		left: 5px;
		top: 0px;
		bottom: 0px;
		margin-top: auto;
		margin-bottom: auto;
		line-height: 0;
		opacity: 0;
		transition: opacity 0.25s ease;
	}

	.js-toggle--checked .js-toggle-track-check {
		opacity: 1;
		transition: opacity 0.25s ease;
	}

	.js-toggle-track-x {
		position: absolute;
		width: 17px;
		height: 17px;
		right: 5px;
		top: 0px;
		bottom: 0px;
		margin-top: auto;
		margin-bottom: auto;
		line-height: 0;
		opacity: 1;
		transition: opacity 0.25s ease;
	}

	.js-toggle--checked .js-toggle-track-x {
		opacity: 0;
	}

	.js-toggle-thumb {
		position: absolute;
		top: 1px;
		left: 1px;
		width: 22px;
		height: 22px;
		border-radius: 50%;
		background-color: #fafafa;
		box-sizing: border-box;
		transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0ms;
		transform: translateX(0);
	}

	.js-toggle--checked .js-toggle-thumb {
		transform: translateX(26px);
		border-color: #19ab27;
	}

	.js-toggle--focus .js-toggle-thumb {
		box-shadow: 0px 0px 2px 3px #1f9967;
	}

	.js-toggle:active .js-toggle-thumb {
		box-shadow: 0px 0px 5px 5px rgb(255, 167, 196);
	}

	body.dark-mode,
	body.dark-mode main * {
		background: rgb(45, 45, 45);
		color: #edebdc;
	}

	body.dark-mode a {
		/* text-decoration: none; */
		color: #8fe5bb;
		-moz-transition-property: background;
		-webkit-transition-property: background;
		transition-property: background;
		-moz-transition-duration: 0.2s;
		-webkit-transition-duration: 0.2s;
		transition-duration: 0.2s;
	}

	body.dark-mode header {
		border-bottom-color: #edebdc;
	}
</style>